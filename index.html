<!DOCTYPE html>
<html>
<title> Interactive Heat Map </title>
  <head>
    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4SPbDlN0XvyPEJFZhDhd8hQ0whisSD7Q">
    </script>
    <script type="text/javascript">
      function initialize() {

        var mapOptions = {
          center: {lat: 40.1430058, lng: -74.7311156},
          zoom: 8
        };

        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);

        // Get submitted parameters.
        var params = {};

        if (location.search) {
            var parts = location.search.substring(1).split('&');

            for (var i = 0; i < parts.length; i++) {
                var nv = parts[i].split('=');
                params[i] = nv[1];
            }
        }
        
        var hrs  = params[0];
        var mins = params[1];
        var ampm = params[2];
        var typ  = params[3];

        //var hrs = location.search.split('Hour=')[1]
        //var mins = document.forms["myForm"]["Min"].value;
        //var ampm = document.forms["myForm"]["Mod"].value;
        //var typ  = document.forms["myForm"]["Type"].value;

        // Plot Pixel polygons.
        if (typeof hrs != 'undefined') {

          var pixel;

          // Define the LatLng coordinates for the pixel's outline.
          var pixelCoords = [
            new google.maps.LatLng(40.830859, -74.368960),//myhouse
            new google.maps.LatLng(40.344185, -74.651427),//pu
            new google.maps.LatLng(40.137298, -74.440258),//6flags
            new google.maps.LatLng(40.346697, -74.065025)//redbank
          ];

          // Construct the pixel.
          pixel = new google.maps.Polygon({
            paths: pixelCoords,
            strokeColor: '#FF0000',
            strokeOpacity: hrs/11.,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: hrs/50.
          });

          pixel.setMap(map);
        }

      }

      google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body bgcolor="000000">

    <center>
    <h3 style="color:#F58025"> Interactive Heat Map </h3>
    <form name=myForm METHOD=GET style="color:#FFFFFF">
    Hours:
    <select name=Hour>
      <option value=0>12</option>
      <? if (hrs == 1): ?>
        <option value=1 selected="selected">1</option>
      <? else: ?>
        <option value=1>1</option>
      <? endif; ?>
      <option value=2>2</option>
      <option value=3>3</option>
      <option value=4>4</option>
      <option value=5>5</option>
      <option value=6>6</option>
      <option value=7>7</option>
      <option value=8>8</option>
      <option value=9>9</option>
      <option value=10>10</option>
      <option value=11>11</option>
    </select>
    Minutes:
    <select name=Min>
      <option value=0>00</option>
      <option value=10>10</option>
      <option value=20>20</option>
      <option value=30>30</option>
      <option value=40>40</option>
      <option value=50>50</option>
    </select>
    AM/PM:
    <select name=Mod>
      <option value="AM">AM</option>
      <option value="PM">PM</option>
    </select> <p>
    <!-- Time (hhm0): <input type=text name=Time size=4> <p> -->
    Arrival Type: <input type=radio name=Type value="indiv" checked=checked> Individuals
                  <input type=radio name=Type value="units"> "Departure Units"
    <p>
    <input type=submit>
    <br><br>
    <a href="plots.html" style="color: #1E90FF">Go to Interactive Arrival Rates Plots</a>
    </center>

    <div id="map-canvas" style="width: 50%; height: 75%; margin:0 auto"></div>
    <center>
    <h5 style="color:#F58025"> Kyle Douglas, 2015 </h5>
    </center>
  </body>
</html>